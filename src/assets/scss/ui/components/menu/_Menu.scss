@import "./components/MenuSection";

.Menu {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 999;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(180deg, rgba(239, 228, 209, 0.80) 0%, rgba(239, 228, 209, 0.80) 100%);
  backdrop-filter: blur(12px);
  opacity: 0;
  pointer-events: none;
  transition: opacity 300ms linear;

  &.active {
    opacity: 1;
    pointer-events: auto;
  }

  // Conteneur de défilement
  &-scroll-container {
    height: 100%;
    width: 100%;
    overflow: hidden;

    @include media("<=small") {
      overflow: visible; // Supprimer l'overflow hidden sur mobile
    }
  }

  // Track pour le défilement
  &-scroll-track {
    display: flex;
    width: fit-content;
    height: 100%;
    animation: menuScroll 60s linear infinite;
    transition-timing-function: linear;

    &:hover {
      animation-play-state: paused;
    }

    @include media("<=small") {
      animation: none; // Désactiver l'animation sur mobile
      width: 100%; // Prendre toute la largeur
      justify-content: center; // Centrer la section

      // Cacher toutes les sections sauf la première
      & > *:not(:first-child) {
        display: none;
      }

      // S'assurer que la première section prend tout l'écran
      & > *:first-child {
        width: 100vw;
        max-width: 100%;
      }
    }
  }

  &-close {
    z-index: 1;
    cursor: pointer;
    position: absolute;
    top: 32px;
    right: 48px;
    width: 88px;
    height: 88px;
    padding: 26px;
    background-color: $color_accent1;
    border-radius: 50%;

    @include media("<=small") {
      width: 56px;
      height: 56px;
      padding: 16px;
      top: 16px;
      right: 16px;
    }

    svg {
      pointer-events: none;
      path {
        fill: $color_white;
      }
    }
  }
}

// Animation pour le défilement horizontal infini
@keyframes menuScroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%); // On défile de 50% puisqu'on duplique les éléments
  }
}